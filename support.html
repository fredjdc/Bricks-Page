<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support - Bricks Apps</title>
    <meta name="description" content="Report issues or inquiries related to Bricks Apps products.">

    <!-- Design System CSS -->
    <link rel="stylesheet" href="new-bricks-scan.css">

    <!-- Favicon -->
    <link rel="icon" href="favicon.ico" sizes="32x32" />
    <link rel="icon" type="image/png" href="images/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="images/favicon-16x16.png" sizes="16x16" />
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png" />
    <link rel="manifest" href="site.webmanifest" />

    <!-- Alpine and scripts -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="scripts.js" defer></script>

    <!-- Google Tag Manager -->
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != "dataLayer" ? "&l=" + l : "";
            j.async = true;
            j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, "script", "dataLayer", "GTM-P5P8LRC2");
    </script>
    <!-- End Google Tag Manager -->

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0NE96SRV4V"></script>
    <script>
        // GA4 tracker to monitor support funnel effectiveness.
        window.dataLayer = window.dataLayer || [];
        function gtag() {
            dataLayer.push(arguments);
        }
        gtag("js", new Date());
        gtag("config", "G-0NE96SRV4V");
    </script>

    <!-- Meta Pixel Code -->
    <script>
        !(function (f, b, e, v, n, t, s) {
            if (f.fbq) return;
            n = f.fbq = function () {
                n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments);
            };
            if (!f._fbq) f._fbq = n;
            n.push = n;
            n.loaded = !0;
            n.version = "2.0";
            n.queue = [];
            t = b.createElement(e);
            t.async = !0;
            t.src = v;
            s = b.getElementsByTagName(e)[0];
            s.parentNode.insertBefore(t, s);
        })(window, document, "script", "https://connect.facebook.net/en_US/fbevents.js");
        fbq("init", "1088148306858128");
        fbq("track", "PageView");
    </script>
    <noscript>
        <img height="1" width="1" style="display: none"
            src="https://www.facebook.com/tr?id=1088148306858128&ev=PageView&noscript=1" />
    </noscript>
    <!-- End Meta Pixel Code -->
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P5P8LRC2" height="0" width="0"
            style="display: none; visibility: hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Cookie Consent Banner -->
    <div id="cookie-consent-banner"
        style="display: none; position: fixed; bottom: 0; left: 0; right: 0; background: var(--bg-primary); padding: 24px; z-index: 50; display: flex; flex-wrap: wrap; justify-content: space-between; align-items: center; gap: 16px; box-shadow: 0 -4px 16px var(--surface-shadow); border-top: 1px solid var(--depth-plane);">
        <div>
            <p class="body-text" style="font-size: 14px; margin: 0;">
                <span lang="en">We use cookies to analyze site usage and improve your experience. May we collect
                    anonymous usage data?</span>
                <span lang="es" class="hidden">Usamos cookies para analizar el uso del sitio y mejorar su experiencia.
                    ¿Nos permite recopilar datos anónimos de uso?</span>
            </p>
        </div>
        <div style="display: flex; gap: 8px;">
            <button onclick="updateConsent('denied')" class="btn btn-secondary"
                style="padding: 10px 20px; font-size: 14px;">
                <span lang="en">Decline</span>
                <span lang="es" class="hidden">Rechazar</span>
            </button>
            <button onclick="updateConsent('granted')" class="btn btn-primary"
                style="padding: 10px 20px; font-size: 14px;">
                <span lang="en">Accept</span>
                <span lang="es" class="hidden">Aceptar</span>
            </button>
        </div>
    </div>

    <!-- Success Alert Modal -->
    <div id="success-alert" class="success-overlay">
        <div class="success-card">
            <div class="success-icon-ring">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
            </div>
            <h3 class="subheading" style="margin-bottom: 8px;">
                <span lang="en">Report Submitted Successfully</span>
                <span lang="es" class="hidden">Reporte Enviado Exitosamente</span>
            </h3>
            <p class="body-text" style="font-size: 16px; margin: 0 auto 8px;">
                <span lang="en">Your report has been submitted. Reference number:</span>
                <span lang="es" class="hidden">Tu reporte ha sido enviado. Número de referencia:</span>
            </p>
            <div class="reference-badge">
                <span id="reference-number">BRKS-000000</span>
            </div>
            <p class="metadata" style="margin-bottom: 24px;">
                <span lang="en">Please save this number for future reference.</span>
                <span lang="es" class="hidden">Guarda este número para futuras referencias.</span>
            </p>
            <button id="close-success" class="btn btn-primary" style="width: 100%;">
                <span lang="en">Close</span>
                <span lang="es" class="hidden">Cerrar</span>
            </button>
        </div>
    </div>

    <!-- Header / Nav -->
    <header class="container site-header">
        <div class="logo">
            <a href="index.html" style="display: flex; align-items: center;">
                <img src="images-bricks-scan/Bricks Logo-dark.svg" onerror="this.src='images/Bricks Logo.svg'"
                    alt="Bricks Logo" style="height: 24px;">
            </a>
        </div>
        <button id="language-switcher" class="btn btn-secondary" style="padding: 8px 16px; font-size: 14px;"
            title="Change language / Cambiar idioma">
            <span id="current-language">English</span>
        </button>
    </header>

    <!-- Main Content -->
    <main>
        <section class="section" style="padding-top: calc(var(--space-lg) + 40px);">
            <div class="container" style="max-width: 640px;">
                <!-- Page Heading -->
                <div class="center-text" style="margin-bottom: 40px;">
                    <h2 class="section-title">
                        <span lang="en">Support</span>
                        <span lang="es" class="hidden">Soporte</span>
                    </h2>
                    <p class="body-text" style="margin: 0 auto;">
                        <span lang="en">We're here to help. Please fill out the form below to report issues or share
                            your comments for new features.</span>
                        <span lang="es" class="hidden">Estamos aquí para ayudar. Por favor completa el formulario a
                            continuación para reportar cualquier problema que hayas encontrado.</span>
                    </p>
                </div>

                <!-- Form Card -->
                <div class="embossed-card" style="padding: 40px 32px;">
                    <form id="issue-report-form" action="https://formsubmit.co/707e6e012fa931048784ff0f766aa0df"
                        method="POST" enctype="multipart/form-data">
                        <!-- FormSubmit.co Configuration -->
                        <input type="hidden" name="_subject" value="Bricks Apps Support Request" />
                        <input type="hidden" name="_template" value="table" />
                        <input type="hidden" name="_captcha" value="false" />
                        <input type="hidden" name="_next" value="" />
                        <input type="hidden" id="reference-field" name="reference_number" value="" />
                        <input type="hidden" name="_url" value="https://bricksapp.com/support.html" />
                        <input type="hidden" name="_autoresponse"
                            value="Thank you for your report. We've received it and will get back to you soon." />
                        <input type="hidden" name="_honey" value="" />

                        <!-- Name & Email Row -->
                        <div class="form-row" style="margin-bottom: 24px;">
                            <div>
                                <label for="name" class="form-label-ds">
                                    <span lang="en">Full Name</span>
                                    <span lang="es" class="hidden">Nombre Completo</span>
                                </label>
                                <input type="text" id="name" name="name" class="form-input-ds" placeholder=""
                                    required />
                            </div>
                            <div>
                                <label for="email" class="form-label-ds">
                                    <span lang="en">Email Address</span>
                                    <span lang="es" class="hidden">Correo Electrónico</span>
                                </label>
                                <input type="email" id="email" name="email" class="form-input-ds" placeholder=""
                                    required />
                            </div>
                        </div>

                        <!-- Description -->
                        <div class="form-group">
                            <label for="issue-description" class="form-label-ds">
                                <span lang="en">Description of the Issue</span>
                                <span lang="es" class="hidden">Descripción del Problema</span>
                            </label>
                            <textarea id="issue-description" name="message" class="form-textarea-ds" rows="8"
                                placeholder="" required></textarea>
                            <p class="form-hint">
                                <span lang="en">Please provide as much detail as possible</span>
                                <span lang="es" class="hidden">Por favor proporciona tantos detalles como sea
                                    posible</span>
                            </p>
                        </div>

                        <!-- Attachments -->
                        <div class="form-group">
                            <label class="form-label-ds">
                                <span lang="en">Attachments (optional)</span>
                                <span lang="es" class="hidden">Archivos Adjuntos (opcional)</span>
                            </label>
                            <div class="file-input-wrapper-ds">
                                <input type="file" id="file-upload" name="attachment" class="file-input-ds"
                                    accept="image/png, image/jpeg" />
                                <svg class="file-upload-icon" xmlns="http://www.w3.org/2000/svg" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                                </svg>
                                <span class="file-upload-text">
                                    <span lang="en">Click to upload or drag and drop</span>
                                    <span lang="es" class="hidden">Haz clic para subir o arrastra y suelta</span>
                                </span>
                                <span class="file-upload-hint">
                                    <span lang="en">Images png or jpeg (max 4MB)</span>
                                    <span lang="es" class="hidden">Imágenes png o jpeg (máx. 4MB)</span>
                                </span>
                            </div>
                        </div>

                        <!-- File List -->
                        <div id="file-list" class="hidden" style="margin-bottom: 24px;">
                            <!-- File list will be populated by JavaScript -->
                        </div>

                        <!-- Submit -->
                        <div style="padding-top: 8px;">
                            <button type="submit" class="btn btn-primary" style="width: 100%;">
                                <span lang="en">Submit Report</span>
                                <span lang="es" class="hidden">Enviar Reporte</span>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container">
            <div
                style="display: flex; flex-wrap: wrap; gap: 48px; justify-content: space-between; margin-bottom: 48px;">
                <!-- Brand Section -->
                <div style="flex: 1; min-width: 280px;">
                    <a href="index.html" style="display: inline-block; margin-bottom: 16px;">
                        <img src="images-bricks-scan/Bricks Logo-dark.svg" alt="Bricks Logo"
                            style="height: 24px; opacity: 0.8;">
                    </a>
                    <p class="body-text" style="font-size: 15px;">
                        <span lang="en">We build apps for the real estate sector.</span>
                        <span lang="es" class="hidden">Construimos apps para el sector inmobiliario.</span>
                    </p>
                </div>

                <!-- Footer Links Grid -->
                <div
                    style="flex: 2; min-width: 280px; display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 32px;">
                    <!-- Apps Section -->
                    <div>
                        <h3 class="subheading" style="font-size: 16px; margin-bottom: 16px;">
                            <span lang="en">Apps</span>
                            <span lang="es" class="hidden">Apps</span>
                        </h3>
                        <ul
                            style="list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 12px;">
                            <li>
                                <a href="bricks-scan.html" class="body-text" style="font-size: 15px;">
                                    <span lang="en">Bricks Scan</span>
                                    <span lang="es" class="hidden">Bricks Scan</span>
                                </a>
                            </li>
                            <li>
                                <a href="bricks-calc.html" class="body-text" style="font-size: 15px;">
                                    <span lang="en">Bricks Calc</span>
                                    <span lang="es" class="hidden">Bricks Calc</span>
                                </a>
                            </li>
                            <li>
                                <a href="https://leads.bricks.pe" class="body-text" style="font-size: 15px;">
                                    <span lang="en">Bricks Leads</span>
                                    <span lang="es" class="hidden">Bricks Leads</span>
                                </a>
                            </li>
                        </ul>
                    </div>

                    <!-- Company Section -->
                    <div>
                        <h3 class="subheading" style="font-size: 16px; margin-bottom: 16px;">
                            <span lang="en">Company</span>
                            <span lang="es" class="hidden">Compañía</span>
                        </h3>
                        <ul
                            style="list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 12px;">
                            <li>
                                <a href="about.html" class="body-text" style="font-size: 15px;">
                                    <span lang="en">About us</span>
                                    <span lang="es" class="hidden">Sobre nosotros</span>
                                </a>
                            </li>
                            <li>
                                <a href="https://wa.me/51953431080?text=Hola%2C%20quiero%20informaci%C3%B3n%20respecto%20a%20lo%20siguiente"
                                    target="_blank" rel="noopener noreferrer" class="body-text"
                                    style="font-size: 15px;">
                                    <span lang="en">Contact</span>
                                    <span lang="es" class="hidden">Contacto</span>
                                </a>
                            </li>
                            <li>
                                <a href="terms.html" class="body-text" style="font-size: 15px;">
                                    <span lang="en">Terms and privacy</span>
                                    <span lang="es" class="hidden">Términos y privacidad</span>
                                </a>
                            </li>
                        </ul>
                    </div>

                    <!-- Support Section -->
                    <div>
                        <h3 class="subheading" style="font-size: 16px; margin-bottom: 16px;">
                            <span lang="en">Support</span>
                            <span lang="es" class="hidden">Soporte</span>
                        </h3>
                        <ul
                            style="list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 12px;">
                            <li>
                                <a href="/support.html" class="body-text" style="font-size: 15px;">
                                    <span lang="en">Help &amp; Feedback</span>
                                    <span lang="es" class="hidden">Ayuda &amp; Feedback</span>
                                </a>
                            </li>
                            <li>
                                <a href="https://wa.me/51953431080?text=Hola%2C%20quiero%20informaci%C3%B3n%20respecto%20a%20lo%20siguiente"
                                    target="_blank" rel="noopener noreferrer" class="body-text"
                                    style="font-size: 15px; display: flex; align-items: center;">
                                    <span lang="en">WhatsApp</span>
                                    <span lang="es" class="hidden">WhatsApp</span>
                                </a>
                            </li>
                            <li>
                                <a href="mailto:hello@bricks.pe" class="body-text" style="font-size: 15px;">
                                    <span lang="en">Email: hello@bricks.pe</span>
                                    <span lang="es" class="hidden">Email: hello@bricks.pe</span>
                                </a>
                            </li>
                            <li>
                                <a href="/survey.html" class="body-text" style="font-size: 15px;">
                                    <span lang="en">Survey</span>
                                    <span lang="es" class="hidden">Encuesta</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div
                style="border-top: 1px solid var(--surface-shadow); padding-top: 32px; display: flex; flex-direction: column; align-items: center; gap: 16px;">
                <p class="metadata" style="text-align: center;">
                    <span lang="en">© 2026 Bricks Apps. All rights reserved.</span>
                    <span lang="es" class="hidden">© 2026 Bricks Apps. Todos los derechos reservados.</span>
                </p>
                <div class="footer-links" style="display: flex; justify-content: center; flex-wrap: wrap; gap: 24px;">
                    <a href="privacy.html" style="margin: 0;">
                        <span lang="en">Privacy Policy</span>
                        <span lang="es" class="hidden">Política de Privacidad</span>
                    </a>
                    <a href="terms.html" style="margin: 0;">
                        <span lang="en">Terms of Service</span>
                        <span lang="es" class="hidden">Términos de Servicio</span>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Custom JavaScript for report form -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // DOM Elements
            const form = document.getElementById("issue-report-form");
            const fileInput = document.getElementById("file-upload");
            const fileList = document.getElementById("file-list");
            const successAlert = document.getElementById("success-alert");
            const closeSuccess = document.getElementById("close-success");
            const referenceNumber = document.getElementById("reference-number");
            const referenceField = document.getElementById("reference-field");
            const emailInput = document.getElementById("email");

            // Generate a unique reference number for this form session
            const refNumber = generateReferenceNumber();
            referenceNumber.textContent = refNumber;

            // Set the reference number in the hidden field for FormSubmit
            if (referenceField) {
                referenceField.value = refNumber;
            }

            // Set the return URL with the reference number for FormSubmit
            const baseUrl = window.location.origin + window.location.pathname;
            form.querySelector('input[name="_next"]').value = `${baseUrl}?ref=${refNumber}&success=true`;

            // Create a hidden _replyto field that will be updated with the email value on submit
            const replyToField = document.createElement("input");
            replyToField.type = "hidden";
            replyToField.name = "_replyto";
            form.appendChild(replyToField);

            // Update _replyto field value when email changes
            if (emailInput) {
                emailInput.addEventListener("change", function () {
                    replyToField.value = this.value;
                });
            }

            // Add form submission event listener
            if (form) {
                form.addEventListener("submit", function (event) {
                    // Set the _replyto value from email input right before submission
                    if (emailInput && emailInput.value) {
                        replyToField.value = emailInput.value;
                    }

                    // Prevent default form submission temporarily
                    event.preventDefault();

                    // Show success alert
                    showSuccessAlert(refNumber);

                    // Submit the form after a short delay to allow the user to see the success message
                    setTimeout(() => {
                        form.submit();
                    }, 2000);
                });
            }

            // Selected files storage
            let selectedFiles = [];

            // Handle file selection
            fileInput.addEventListener("change", function () {
                const files = Array.from(this.files);

                // Check file size (limit to 4MB per file)
                const validFiles = files.filter((file) => file.size <= 4 * 1024 * 1024);

                if (validFiles.length !== files.length) {
                    const lang = document.documentElement.getAttribute('lang') || 'en';
                    const messages = {
                        en: 'Some files exceed the 4MB limit and were not included.',
                        es: 'Algunos archivos exceden el límite de 4MB y no se incluyeron.'
                    };
                    alert(messages[lang] || messages['en']);
                }

                if (validFiles.length > 0) {
                    selectedFiles = [...selectedFiles, ...validFiles];
                    updateFileList();
                    fileList.classList.remove("hidden");
                }
            });

            // Update file list UI
            function updateFileList() {
                fileList.innerHTML = "";

                selectedFiles.forEach((file, index) => {
                    const fileItem = document.createElement("div");
                    fileItem.className = "file-list-item";

                    const fileInfo = document.createElement("div");
                    fileInfo.className = "file-info";

                    // File icon
                    const fileIcon = document.createElement("div");
                    fileIcon.className = "file-icon";
                    fileIcon.innerHTML =
                        '<svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>';

                    // File details
                    const fileDetails = document.createElement("div");
                    const fileName = document.createElement("div");
                    fileName.textContent = file.name;
                    fileName.className = "file-name";
                    const fileSize = document.createElement("div");
                    fileSize.textContent = formatFileSize(file.size);
                    fileSize.className = "file-size";
                    fileDetails.appendChild(fileName);
                    fileDetails.appendChild(fileSize);

                    fileInfo.appendChild(fileIcon);
                    fileInfo.appendChild(fileDetails);

                    // Remove button
                    const removeBtn = document.createElement("button");
                    removeBtn.className = "file-remove-btn";
                    removeBtn.type = "button";
                    removeBtn.innerHTML =
                        '<svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>';
                    removeBtn.addEventListener("click", function () {
                        selectedFiles.splice(index, 1);
                        updateFileList();
                        if (selectedFiles.length === 0) {
                            fileList.classList.add("hidden");
                        }
                    });

                    fileItem.appendChild(fileInfo);
                    fileItem.appendChild(removeBtn);
                    fileList.appendChild(fileItem);
                });
            }

            // Format file size to human-readable format
            function formatFileSize(bytes) {
                if (bytes === 0) return "0 Bytes";
                const k = 1024;
                const sizes = ["Bytes", "KB", "MB", "GB", "TB"];
                let i = 0;
                let tempBytes = bytes;
                while (tempBytes >= k && i < sizes.length - 1) {
                    tempBytes /= k;
                    i++;
                }
                return parseFloat(tempBytes.toFixed(2)) + " " + sizes[i];
            }

            // Generate a unique reference number
            function generateReferenceNumber() {
                const timestamp = new Date().getTime().toString().slice(-6);
                const random = Math.floor(Math.random() * 1000)
                    .toString()
                    .padStart(3, "0");
                return `BRKS-${timestamp}${random}`;
            }

            // Show success alert
            function showSuccessAlert(refNumber) {
                referenceNumber.textContent = refNumber;
                successAlert.classList.add("is-visible");
            }

            // Hide success alert
            function hideSuccessAlert() {
                successAlert.classList.remove("is-visible");
            }

            // Close success alert
            closeSuccess.addEventListener("click", function (event) {
                event.preventDefault();
                hideSuccessAlert();
            });

            // Check for success parameter in URL (when returning from FormSubmit)
            function checkForSuccess() {
                const urlParams = new URLSearchParams(window.location.search);
                const success = urlParams.get("success");
                const ref = urlParams.get("ref");

                if (success === "true" && ref) {
                    showSuccessAlert(ref);
                    const newUrl = window.location.pathname;
                    window.history.replaceState({}, document.title, newUrl);
                }
            }

            // Check for success on page load
            checkForSuccess();
        });
    </script>
</body>

</html>